@model IEnumerable<TreeStruc.Models.Node>
@inject TreeStruc.DataAccess.Context _context
@{
    ViewData["Title"] = "Struktura Drzewiasta";
}

<h1 style="text-align: center;">Your Tree</h1>

@if (Model.ToList().Count > 0)
{
    <div class="container-fluid justify content center" style="margin-left: 450px;">
            <div class="row collapse-row" >
        <div class="col-md-2">
            <span class="collapse-all"><a class="btn btn-info text-white">Hide all nodes!</a></span>
        </div>
    </div>

    </div>

    <div class="container-fluid justify content center"style="margin-left: 350px;>">
            <div class="row" >
        <div class="col-md-12">
            <ul>
                @await Component.InvokeAsync("TreeComponents", new { isFirstElement = true })
            </ul>
        </div>
    </div>
    </div>
}
else
{
<div class="row justify-content-center">
    <h3>Create a new tree</h3>
</div>
<div class="row justify-content-center">
    <a class="btn btn-success add render font-dark"
       data-id=null
       data-controller="Tree"
       data-action="AddNode"
       data-body-message="Create new Tree!">Add Node</a>
</div>
    
}

<!-- ADD BUTTON -->
<div class="modal fade" id="add-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">New Node</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body modal-body-message"></div>
            <div style="color: dimgrey !important;">
                <div class="row justify-content-center">
                    <div class="form-group col-md-10">
                        <label for="name" class="add-input-name">Name</label>
                        <input type="text"  maxlength="60" required class="form-control" id="name" name="categoryName">
                    </div>      
                    <div class="row">
                        <span id="add-error"></span>
                    </div>
                </div>
                
            </div>
            <div class="modal-footer addButtons">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success" id="confirm-add">Add</button>
            </div>

        </div>
    </div>
</div>

<!-- Updating BUTTON -->
<div class="modal fade" id="edit-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Updating</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div  id="modalBody" class="modal-body edit-modal-body">
            </div>

            </div>
        </div>
    </div>
</div>


<!--REMOVE BUTTON-->
<div class="modal fade" id="delete-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Info</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body modal-body-message"></div>
            <div class="modal-footer deleteButtons">
                <button type="button" class="btn btn-default" data-dismiss="modal" id="cancel-delete">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirm-delete">Delete</button>
            </div>
        </div>
    </div>
</div>

